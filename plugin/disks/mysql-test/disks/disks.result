show create table information_schema.disks;
Table	Create Table
DISKS	CREATE TEMPORARY TABLE `DISKS` (
  `Disk` varchar(4096) NOT NULL DEFAULT '',
  `Path` varchar(4096) NOT NULL DEFAULT '',
  `Total` int(32) NOT NULL DEFAULT '0',
  `Used` int(32) NOT NULL DEFAULT '0',
  `Available` int(32) NOT NULL DEFAULT '0'
) ENGINE=MEMORY DEFAULT CHARSET=utf8
select sum(Total) > sum(Available), sum(Total)>sum(Used) from information_schema.disks;
sum(Total) > sum(Available)	sum(Total)>sum(Used)
1	1
#
# MDEV-18328: Make DISKS plugin check some privilege to access
# information_schema.DISKS table
#
CREATE USER user1@localhost;
GRANT SELECT ON *.* TO user1@localhost;
select sum(Total) > sum(Available), sum(Total)>sum(Used) from information_schema.disks;
sum(Total) > sum(Available)	sum(Total)>sum(Used)
NULL	NULL
GRANT FILE ON *.* TO user1@localhost;
select sum(Total) > sum(Available), sum(Total)>sum(Used) from information_schema.disks;
sum(Total) > sum(Available)	sum(Total)>sum(Used)
1	1
DROP USER user1@localhost;
# End of 10.1 tests
